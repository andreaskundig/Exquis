{"setup":"this.toRadians = function(degrees){\n    return  degrees * Math.PI / 180; \n};\nthis.rotation = 0;\nthis.halfWidth = context.canvas.width / 2;\nthis.halfHeight = context.canvas.height / 2;\n\nthis.lines = [];","draw":"\n\n// copy lines from borders.west\nvar pix = borders.west.data;\n\n// Loop over each pixel and set a transparent red.\nfor (var i = 0, n = pix.length; i < n; i += 4) {\n  pix[i+3] = 190; // alpha channel\n}\n\nthis.lines.unshift(borders.west);\n\nif (this.lines.length > 150){\n    this.lines.pop();\n}\n\n\nfor(var i = 0; i < this.lines.length; i++){\n    context.putImageData(this.lines[i], i, 0);\n}\n\n\n// draw rotating red square\ncontext.fillStyle = \"rgba(20,0,200,0.1)\";\ncontext.fillRect(0, 0, context.canvas.width, context.canvas.height);\n\ncontext.save();\ncontext.translate(this.halfWidth, this.halfHeight);\ncontext.scale(3, 2.9  );\ncontext.rotate(this.toRadians(this.rotation));\n\nthis.rotation = (this.rotation + 1) % 360;\n\ncontext.fillStyle = \"rgba(250,20,25,0.5)\";\ncontext.fillRect(-25, -25, 50, 50);\n\ncontext.restore();\n\n\n "}