{"libs":"{}","setup":"var applyVendorPrefix = function(){\n\tnavigator.getUserMedia = navigator.getUserMedia ||\n\tnavigator.webkitGetUserMedia ||\n\tnavigator.mozGetUserMedia ||\n\tnavigator.msGetUserMedia;\n};\n\nvar provideVideoContext = function(width, height){\n\tvar video = document.createElement(\"video\");\n\tvideo.width = width;\n\tvideo.height = height;\n\tvideo.autoplay = true;\n\n\tvar errorCallback = function(e) {\n\t\tconsole.log('provideVideoContext failed', e);\n\t};\n\n    /* valid resolutions\n      1920:1080\n      1280:720\n      960:720\n      640:360\n      640:480\n      320:240\n      320:180\n      */\n\n      var video_constraints = {\n      \tmandatory: {\n      \t\tmaxWidth: 320, \n      \t\tmaxHeight: 240\n      \t},\n      \toptional: []\n      };\n\n      navigator.getUserMedia({video: video_constraints}, function(stream) {\n      \tvideo.src = window.URL.createObjectURL(stream);\n      }, errorCallback);\n\n      return video;\n};\n\napplyVendorPrefix();\n\nif (this.v == null) this.v = provideVideoContext(320, 240);","draw":"context.drawImage(this.v, 0, 0, context.canvas.width, context.canvas.height);"}